# Python爬虫

[[toc]]


## Flag

+ [https://github.com/topics/scraper](https://github.com/topics/scraper)
+ [https://github.com/topics/webscraper](https://github.com/topics/webscraper)
+ [https://github.com/topics/web-scraper](https://github.com/topics/web-scraper)
+ [https://github.com/topics/spider](https://github.com/topics/spider)
+ [https://github.com/topics/webscraper](https://github.com/topics/webscraper)
+ [https://github.com/topics/web-scraper](https://github.com/topics/web-scraper)
+ [https://github.com/topics/crawler](https://github.com/topics/crawler)
+ [https://github.com/topics/webcrawler](https://github.com/topics/webcrawler)
+ [https://github.com/topics/web-crawler](https://github.com/topics/web-crawler)
+ [https://github.com/topics/automation](https://github.com/topics/automation)


* [https://github.com/Boris-code/feapder](https://github.com/Boris-code/feapder)
* [https://github.com/pyppeteer/pyppeteer](https://github.com/pyppeteer/pyppeteer)
* [https://github.com/hyperiongray/trio-chrome-devtools-protocol](https://github.com/hyperiongray/trio-chrome-devtools-protocol)
* [https://github.com/chuckus/chromewhip](https://github.com/chuckus/chromewhip)
* [https://github.com/fate0/pychrome](https://github.com/fate0/pychrome)
* [https://github.com/fake-name/ChromeController](https://github.com/fake-name/ChromeController)
* [https://github.com/N0taN3rd/chrome-remote-interface-py](https://github.com/N0taN3rd/chrome-remote-interface-py)
* [https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China](https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China)
* [xvfb可以将屏幕的图像输出给放到虚拟内存中](https://blog.csdn.net/wkb342814892/article/details/81591394)
* [https://github.com/scrapy/scrapy](https://github.com/scrapy/scrapy)
* [https://github.com/mouday/spider-admin-pro](https://github.com/mouday/spider-admin-pro)
* [https://github.com/BuilderIO/gpt-crawler](https://github.com/BuilderIO/gpt-crawler)


**[xpath和css选择器](/Web/README.md#xpath和css选择器)**

**[HeadlessBrowser](/IDE/Chrome.md#HeadlessBrowser)**



+ [关于网页referer以及破解referer反爬虫的办法](https://blog.csdn.net/python_neophyte/article/details/82562330)
+ ReCaptcha验证码（常见为Google验证码） [https://github.com/topics/captcha-solving](https://github.com/topics/captcha-solving)
    + [https://github.com/teal33t/captcha_bypass](https://github.com/teal33t/captcha_bypass)
    + [https://github.com/NotHassan/Python-Google-Recaptcha-v2-Solver](https://github.com/NotHassan/Python-Google-Recaptcha-v2-Solver)
    + [https://github.com/balanceofprobability/decaptcha](https://github.com/balanceofprobability/decaptcha)
    + [https://github.com/IshanManchanda/pyreCAPTCHA](https://github.com/IshanManchanda/pyreCAPTCHA)
    + [https://github.com/tafalk/recaptcha-token-resolver-function](https://github.com/tafalk/recaptcha-token-resolver-function)
+ 使用HTTP拦截器来实现cloudflare请求 [https://github.com/sayem314/hooman](https://github.com/sayem314/hooman)
+ Hashcat破解队列系统 [https://github.com/f0cker/crackq](https://github.com/f0cker/crackq)
+ 电话号码的高级信息收集 [https://github.com/sundowndev/PhoneInfoga](https://github.com/sundowndev/PhoneInfoga)


## 开源脚本

+ [https://github.com/search?q=微信公众号爬虫](https://github.com/search?q=微信公众号爬虫)
+ [https://github.com/search?q=WeChat+Hook](https://github.com/search?q=WeChat+Hook)

* 搜索社交账户 [https://github.com/sherlock-project/sherlock](https://github.com/sherlock-project/sherlock)
* [https://github.com/DropsDevopsOrg/ECommerceCrawlers](https://github.com/DropsDevopsOrg/ECommerceCrawlers)
* [https://github.com/wnma3mz/wechat_articles_spider](https://github.com/wnma3mz/wechat_articles_spider)
* [https://github.com/wwg88888888/WeChatExt](https://github.com/wwg88888888/WeChatExt)
* [https://github.com/KongKong20/WeChatPCHook](https://github.com/KongKong20/WeChatPCHook)
* [https://github.com/LeLe86/vWeChatCrawl](https://github.com/LeLe86/vWeChatCrawl)
* [https://github.com/Evil0ctal/Douyin_TikTok_Download_API](https://github.com/Evil0ctal/Douyin_TikTok_Download_API)
* [https://github.com/czy0729/Bangumi](https://github.com/czy0729/Bangumi)
* [WeChatDownload，批量微信公众号文章下载小工具](https://i.ijrou.com/p/story/WeChatDownload.html)
* [https://github.com/cooderl/wewe-rss](https://github.com/cooderl/wewe-rss)
* [调试PC端微信内置浏览器](https://mp.weixin.qq.com/s/WZR4HXwM1PEz4nEeMCejWQ)
* [调试PC端微信内置浏览器](http://jioho.gitee.io/blog/%E5%B7%A5%E5%85%B7/%E8%B0%83%E8%AF%95PC%E7%AB%AF%E5%BE%AE%E4%BF%A1%E5%86%85%E7%BD%AE%E6%B5%8F%E8%A7%88%E5%99%A8.html)
* ["调戏" 微信PC端浏览器内置浏览器](https://juejin.cn/post/6844904082314887182)
* [https://github.com/small-step/mikasa-wechat](https://github.com/small-step/mikasa-wechat)
* [https://github.com/cixingguangming55555/wechat-bot](https://github.com/cixingguangming55555/wechat-bot)
* [https://github.com/smallfawn/QLScriptPublic](https://github.com/smallfawn/QLScriptPublic)
* [https://github.com/tinygeeker/tinyspiders](https://github.com/tinygeeker/tinyspiders)
* [https://github.com/Moli-X/Resources](https://github.com/Moli-X/Resources)
* 预苗秒杀 [https://github.com/lyrric/seckill](https://github.com/lyrric/seckill)


**签到**

* [https://github.com/Sitoi/dailycheckin](https://github.com/Sitoi/dailycheckin)
* [https://github.com/BlueSkyClouds/My-Actions](https://github.com/BlueSkyClouds/My-Actions)
* [https://github.com/mengshouer/CheckinBox](https://github.com/mengshouer/CheckinBox)
* [https://github.com/leecobaby/shortcuts](https://github.com/leecobaby/shortcuts)
* [https://github.com/Wenmoux/checkbox](https://github.com/Wenmoux/checkbox)


**京东**

- 京东茅台抢购 [https://github.com/search?q=jd_maotai](https://github.com/search?q=jd_maotai)
- [https://github.com/search?q=茅台](https://github.com/search?q=%E8%8C%85%E5%8F%B0)
- 京东签到 [https://github.com/ruicky/jd_sign_bot](https://github.com/ruicky/jd_sign_bot)
- [https://github.com/ZainCheung/helper-618](https://github.com/ZainCheung/helper-618)
- [https://github.com/tychxn/jd-assistant](https://github.com/tychxn/jd-assistant)
- [https://github.com/xuess/puppeteer-sign](https://github.com/xuess/puppeteer-sign)
- [https://github.com/zqjzqj/mtSecKill](https://github.com/zqjzqj/mtSecKill)
- [https://github.com/Yx1aoq1/jdms](https://github.com/Yx1aoq1/jdms)
- [https://github.com/shylocks/Loon](https://github.com/shylocks/Loon)
- [https://github.com/LXK9301/jd_scripts/tree/master](https://github.com/LXK9301/jd_scripts/tree/master)
- [https://github.com/NobyDa/Script/tree/master](https://github.com/NobyDa/Script/tree/master)
- [https://github.com/yangtingxiao/QuantumultX](https://github.com/yangtingxiao/QuantumultX)
- [https://github.com/chavyleung/scripts](https://github.com/chavyleung/scripts)
- [https://github.com/inoyna11/jd28](https://github.com/inoyna11/jd28)
- [https://github.com/Tsukasa007/my_script](https://github.com/Tsukasa007/my_script)
- [https://github.com/zero205/JD_tencent_scf](https://github.com/zero205/JD_tencent_scf)
- [https://github.com/shufflewzc/faker2](https://github.com/shufflewzc/faker2)
- [https://github.com/smiek2221/scripts](https://github.com/smiek2221/scripts)
- [https://github.com/Aaron-lv/sync](https://github.com/Aaron-lv/sync)
- [https://github.com/zero205/JD_tencent_scf](https://github.com/zero205/JD_tencent_scf)


**联通**

* [https://github.com/ailiksr/39shouting](https://github.com/ailiksr/39shouting)
* [https://github.com/srcrs/UnicomTask](https://github.com/srcrs/UnicomTask)
* [https://github.com/mixool/HiCnUnicom](https://github.com/mixool/HiCnUnicom)
* [https://github.com/hzys/HiCnUnicom](https://github.com/hzys/HiCnUnicom)
* [https://github.com/mexxcheng/iread_signin](https://github.com/mexxcheng/iread_signin)
* [https://github.com/ChuJian2/AutoSignMachine](https://github.com/ChuJian2/AutoSignMachine)
* [https://github.com/simo8102/chinaunicom-AutoSignMachine](https://github.com/simo8102/chinaunicom-AutoSignMachine)
* [https://github.com/bigmax706/AutoSign](https://github.com/bigmax706/AutoSign)
* [https://github.com/750421628/39shouting](https://github.com/750421628/39shouting)
* [https://github.com/Gsangu/UnicomGetCoin](https://github.com/Gsangu/UnicomGetCoin)




## selenium

+ [https://github.com/topics/selenium](https://github.com/topics/selenium)
+ [https://github.com/topics/testing](https://github.com/topics/testing)



* [https://github.com/SeleniumHQ](https://github.com/SeleniumHQ)
    * [https://selenium.dev/documentation/zh-cn](https://selenium.dev/documentation/zh-cn)
    * [https://github.com/caoruiy/selenium-python-docs-zh](https://github.com/caoruiy/selenium-python-docs-zh)
    * [https://selenium-python-zh.readthedocs.io](https://selenium-python-zh.readthedocs.io)
    * [https://wizardforcel.gitbooks.io/selenium-doc](https://wizardforcel.gitbooks.io/selenium-doc)
* [https://github.com/seleniumbase](https://github.com/seleniumbase)
* [Python3-Selenium开启自动化测试](http://qzmvc1.top/Python3-Selenium%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95.html)
* [python+selenium 判断元素是否存在，是否可点击，是否被选中](https://www.twblogs.net/a/5c8414bdbd9eee35cd69c929/zh-cn)
* [EC：expected_conditions判断页面元素](https://www.jianshu.com/p/a94918d49c3c)
* [selenium,Python3滚动到页面底部的几种解决方案](https://rumenz.com/rumenbiji/python3-selenium-scrollToBottom.html)
* [Python Selenium教程 - 猿人学Python](https://www.yuanrenxue.com/python-selenium)



### 函数或变量


| 函数或变量                                                             	| 说明 	|
|------------------------------------------------------------------------	|------	|
| def file_detector_context(self, file_detector_class, *args, **kwargs): 	|      	|
| def mobile(self):                                                      	|      	|
| def name(self):                                                        	|      	|
| def start_client(self):                                                	|      	|
| def stop_client(self):                                                 	|      	|
| def start_session(self, capabilities, browser_profile=None):           	|      	|
| def create_web_element(self, element_id):                              	|      	|
| def execute(self, driver_command, params=None):                        	|      	|
| def get(self, url):                                                    	|      	|
| def title(self):                                                       	|      	|
| def find_element_by_id(self, id_):                                     	|      	|
| def find_elements_by_id(self, id_):                                    	|      	|
| def find_element_by_xpath(self, xpath):                                	|      	|
| def find_elements_by_xpath(self, xpath):                               	|      	|
| def find_element_by_link_text(self, link_text):                        	|      	|
| def find_elements_by_link_text(self, text):                            	|      	|
| def find_element_by_partial_link_text(self, link_text):                	|      	|
| def find_elements_by_partial_link_text(self, link_text):               	|      	|
| def find_element_by_name(self, name):                                  	|      	|
| def find_elements_by_name(self, name):                                 	|      	|
| def find_element_by_tag_name(self, name):                              	|      	|
| def find_elements_by_tag_name(self, name):                             	|      	|
| def find_element_by_class_name(self, name):                            	|      	|
| def find_elements_by_class_name(self, name):                           	|      	|
| def find_element_by_css_selector(self, css_selector):                  	|      	|
| def find_elements_by_css_selector(self, css_selector):                 	|      	|
| def execute_script(self, script, *args):                               	|      	|
| def execute_async_script(self, script, *args):                         	|      	|
| def current_url(self):                                                 	|      	|
| def page_source(self):                                                 	|      	|
| def close(self):                                                       	|      	|
| def quit(self):                                                        	|      	|
| def current_window_handle(self):                                       	|      	|
| def window_handles(self):                                              	|      	|
| def maximize_window(self):                                             	|      	|
| def fullscreen_window(self):                                           	|      	|
| def minimize_window(self):                                             	|      	|
| def switch_to(self):                                                   	|      	|
| def switch_to_active_element(self):                                    	|      	|
| def switch_to_window(self, window_name):                               	|      	|
| def switch_to_frame(self, frame_reference):                            	|      	|
| def switch_to_default_content(self):                                   	|      	|
| def switch_to_alert(self):                                             	|      	|
| def back(self):                                                        	|      	|
| def forward(self):                                                     	|      	|
| def refresh(self):                                                     	|      	|
| def get_cookies(self):                                                 	|      	|
| def get_cookie(self, name):                                            	|      	|
| def delete_cookie(self, name):                                         	|      	|
| def delete_all_cookies(self):                                          	|      	|
| def add_cookie(self, cookie_dict):                                     	|      	|
| def implicitly_wait(self, time_to_wait):                               	|      	|
| def set_script_timeout(self, time_to_wait):                            	|      	|
| def set_page_load_timeout(self, time_to_wait):                         	|      	|
| def find_element(self, by=By.ID, value=None):                          	|      	|
| def find_elements(self, by=By.ID, value=None):                         	|      	|
| def desired_capabilities(self):                                        	|      	|
| def get_screenshot_as_file(self, filename):                            	|      	|
| def save_screenshot(self, filename):                                   	|      	|
| def get_screenshot_as_png(self):                                       	|      	|
| def get_screenshot_as_base64(self):                                    	|      	|
| def set_window_size(self, width, height, windowHandle='current'):      	|      	|
| def get_window_size(self, windowHandle='current'):                     	|      	|
| def set_window_position(self, x, y, windowHandle='current'):           	|      	|
| def get_window_position(self, windowHandle='current'):                 	|      	|
| def get_window_rect(self):                                             	|      	|
| def set_window_rect(self, x=None, y=None, width=None, height=None):    	|      	|
| def file_detector(self):                                               	|      	|
| def file_detector(self, detector):                                     	|      	|
| def orientation(self):                                                 	|      	|
| def orientation(self, value):                                          	|      	|
| def application_cache(self):                                           	|      	|
| def log_types(self):                                                   	|      	|
| def get_log(self, log_type):                                           	|      	|


## 浏览器下载设置

* [https://github.com/SeleniumHQ/selenium/issues/5722](https://github.com/SeleniumHQ/selenium/issues/5722)
* [https://github.com/SeleniumHQ/selenium/issues/5159](https://github.com/SeleniumHQ/selenium/issues/5159)

```python
# 向Selenium Webwdriver添加对Chrome "send_command"的支持
driver.command_executor._commands["send_command"] = ("POST", '/session/$sessionId/chromium/send_command')
# allow自动、deny禁止、default默认
params = {'cmd': 'Page.setDownloadBehavior', 'params': {'behavior': 'deny', 'downloadPath': "D:\\"}}
driver.execute("send_command", params)
```

```python
driver.execute_cdp_cmd("Page.setDownloadBehavior", {'behavior': 'deny', 'downloadPath': "D:\\"})
```




### 打开新标签页

```python
# 获取主窗口句柄
main_window = driver.current_window_handle
# 通过执行js打开新标签页并访问url
driver.execute_script(f"window.open('{url}')")
# 在新选项卡中打开空白页面
#driver.execute_script(f"window.open('','_blank')")
# 获取当前所有窗口句柄（窗口A、B），并切换到新标签页
driver.switch_to.window(driver.window_handles[-1])
# 访问url
#driver.get(url)
# 关闭当前窗口。
driver.close()
# 关闭新选项卡后回到主窗口，必须做这一步，否则会引发错误
driver.switch_to.window(main_window)
```

**使用组合键**

> 该方式在Chrome下无效

> 在增加了设置下载路径代码后，无法打开新标签页，但是捕获到的handler是两个，可以进行切换，只是没有切换动态效果了，实际是切换了的

> `OSX`操作系统通过组合键<kbd>COMMAND</kbd> + <kbd>T</kbd>或<kbd>COMMAND</kbd> + <kbd>W</kbd>来实现选项卡的打开/关闭

> 在其他操作系统上，可以使用<kbd>CONTROL</kbd> + <kbd>T</kbd> / <kbd>CONTROL</kbd> + <kbd>W</kbd>

```python
# windows 用Keys.CONTROL 如同ctrl+t打开新标签页
driver.find_element_by_tag_name('body').send_keys(Keys.CONTROL + 't')
# <CTRL> + <T>通过Action链发送
# ActionChains(driver).key_down(Keys.CONTROL).send_keys("t").key_up(Keys.CONTROL).perform()
# 获取当前所有窗口句柄（窗口A、B），并切换到新标签页
driver.switch_to.window(driver.window_handles[-1])
# 访问url
driver.get(url)
# windows 用Keys.CONTROL 如同ctrl+w关闭标签页
#driver.find_element_by_tag_name('body').send_keys(Keys.CONTROL + 'w')
# 关闭当前窗口。
driver.close()
```

### 执行JavaScript

```python
# 通过 js 移动到最下
driver.execute_script( "var q=document.documentElement.scrollTop=10000" )
# 通过 js 返回所有html
driver.execute_script( "return document.documentElement.outerHTML" )
```



## m3u8解析下载

> M3U8有两层：第一层存放的是流信息（EXT-X-STREAM-INF）和第二层的下载链接，第二层才是存放加密（EXT-X-KEY）和`ts`文件的下载地址

* [https://github.com/globocom/m3u8](https://github.com/globocom/m3u8)
* [https://github.com/canhlinh/hlsdl](https://github.com/canhlinh/hlsdl)
* [https://github.com/HeiSir2014/M3U8-Downloader](https://github.com/HeiSir2014/M3U8-Downloader)
* [什么是m3u8文件](https://www.jianshu.com/p/2a5403234b14)
* [加密的ts+m3u8合并](https://www.junmajinlong.com/others/ts_m3u8)
* [关于m3u8格式的视频文件ts转mp4下载和key加密问题](https://www.cnblogs.com/String-Lee/p/11391893.html)
* [将TS转换为MP4](https://gist.github.com/larvata/95df619df7109d8b74d2b965a3266354)




