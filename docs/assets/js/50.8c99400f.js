(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{359:function(s,t,n){"use strict";n.r(t);var a=n(3),e=Object(a.a)({},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"mysql配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql配置","aria-hidden":"true"}},[s._v("#")]),s._v(" MySQL配置")]),s._v(" "),n("h1",{attrs:{id:"配置my-cnf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置my-cnf","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置my.cnf")]),s._v(" "),n("p",[s._v("从5.7.17后mysql就没有默认的my_default.cnf文件，需要手动创建")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/my.cnf\n")])])]),n("p",[s._v("按i后输入以下内容:")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sql_mode = NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES ")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一般配置选项")]),s._v("\nbasedir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/mysql/\ndatadir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/mysql/data\nport "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3306\ncharacter-set-server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" utf8\nexplicit_defaults_for_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# socket = /var/run/mysqld/mysqld.sock")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0：区分大小写，1：不区分大小写")]),s._v("\nlower_case_table_names "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下面是可选项，要不要都行，如果出现启动错误，则全部注释掉，")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#保留最基本的配置选项，然后尝试添加某些配置项后启动，检测配置项是否有误")]),s._v("\nback_log "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 300\nmax_connections "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3000\nmax_connect_errors "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 50\ntable_open_cache "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 4096\nmax_allowed_packet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#binlog_cache_size = 4M")]),s._v("\n\nmax_heap_table_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\nread_rnd_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\nsort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\njoin_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\nthread_cache_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16\nquery_cache_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\nquery_cache_limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 4M\nft_min_word_len "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认开启事件调度器ON或者是1")]),s._v("\nevent_scheduler"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ON\nthread_stack "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 512K\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认是REPEATABLE-READ，改成读已提交")]),s._v("\ntransaction-isolation"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("READ-COMMITTED\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久设置手动提交事务")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autocommit=0")]),s._v("\ntmp_table_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#log-bin=mysql-bin")]),s._v("\nlong_query_time "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 6\n\nserver_id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1\n\ninnodb_buffer_pool_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1G\ninnodb_thread_concurrency "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16\ninnodb_log_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\n\ninnodb_log_file_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 512M\ninnodb_log_files_in_group "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3\ninnodb_max_dirty_pages_pct "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 90\ninnodb_lock_wait_timeout "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 120\ninnodb_file_per_table "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" on\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqldump"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nquick\nmax_allowed_packet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nno-auto-rehash\ndefault-character-set"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\nsafe-updates\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("myisamchk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkey_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\nsort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\nread_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8M\nwrite_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8M\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqlhotcopy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ninteractive-timeout\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld_safe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nopen-files-limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8192\n\n")])])]),n("h2",{attrs:{id:"yum安装配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yum安装配置","aria-hidden":"true"}},[s._v("#")]),s._v(" yum安装配置")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#password   = your_password")]),s._v("\nport        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3306\nsocket      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/lib/mysql/mysql.sock\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nport        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3306\nsocket      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/lib/mysql/mysql.sock\ndatadir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/lib/mysql\nsymbolic-links"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0\nlog-error"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/log/mysqld.log\npid-file"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/run/mysqld/mysqld.pid\nskip-external-locking\nperformance_schema_max_table_instances"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("400\ntable_definition_cache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("400\nkey_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\nmax_allowed_packet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 100G\ntable_open_cache "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128\nsort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 768K\nnet_buffer_length "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8K\nread_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 768K\nread_rnd_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 512K\nmyisam_sort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8M\nthread_cache_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16\nquery_cache_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\ntmp_table_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\nsql-mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\nexplicit_defaults_for_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#skip-networking")]),s._v("\nmax_connections "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 500\nmax_connect_errors "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 100\nopen_files_limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 65535\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0：区分大小写，1：不区分大小写")]),s._v("\nlower_case_table_names "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认开启事件调度器ON或者是1")]),s._v("\nevent_scheduler"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ON\n\nthread_stack "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 512K\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认是REPEATABLE-READ，改成读已提交")]),s._v("\ntransaction-isolation"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("READ-COMMITTED\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久设置手动提交事务")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autocommit=0")]),s._v("\ntmp_table_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注释掉之后，会关闭binlog日志")]),s._v("\nlog-bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql-bin\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注释掉之后，会关闭binlog日志")]),s._v("\nbinlog_format"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mixed\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#数据库ID号,为1时表示为Master,其中master_id必须为1到232–1之间的一个正整数值，主从server-id不能一样;")]),s._v("\nserver-id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#自动删除5天前的日志。默认值为0，表示从不删除。")]),s._v("\nexpire_logs_days "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 5\nslow_query_log"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1\nslow-query-log-file"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/lib/mysql/mysql-slow.log\nlong_query_time"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#log_queries_not_using_indexes=on")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MySQL5.7.11拥有，默认值为keyring_file，InnoDB表空间在初始化InnoDB之前需要此插件来加密，MySQL5.7.12及以后此参数默认为空")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#early-plugin-load = ""')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-trx=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-locks=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-lock-waits=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp-per-index=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp-per-index-reset=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp-reset=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmpmem=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmpmem-reset=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-buffer-page=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-buffer-page-lru=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-buffer-pool-stats=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-metrics=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-default-stopword=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-inserted=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-deleted=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-being-deleted=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-config=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-index-cache=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-index-table=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-tables=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-tablestats=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-indexes=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-columns=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-fields=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-foreign=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-foreign-cols=0")]),s._v("\n\ndefault_storage_engine "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" InnoDB\ninnodb_data_home_dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/lib/mysql\ninnodb_data_file_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ibdata1:10M:autoextend\ninnodb_log_group_home_dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/lib/mysql\ninnodb_buffer_pool_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\ninnodb_log_file_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 64M\ninnodb_log_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\ninnodb_flush_log_at_trx_commit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1\ninnodb_lock_wait_timeout "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 120\ninnodb_max_dirty_pages_pct "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 90\ninnodb_read_io_threads "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3\ninnodb_write_io_threads "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqldump"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nquick\nmax_allowed_packet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nno-auto-rehash\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("myisamchk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkey_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\nsort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 768K\nread_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2M\nwrite_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2M\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqlhotcopy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ninteractive-timeout\n")])])]),n("h2",{attrs:{id:"宝塔面板安装配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#宝塔面板安装配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 宝塔面板安装配置")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#password   = your_password")]),s._v("\nport        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3306\nsocket      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /tmp/mysql.sock\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nport        "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3306\nsocket      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /tmp/mysql.sock\ndatadir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/mysql/data\nskip-external-locking\nperformance_schema_max_table_instances"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("400\ntable_definition_cache"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("400\nkey_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\nmax_allowed_packet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 100G\ntable_open_cache "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128\nsort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 768K\nnet_buffer_length "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8K\nread_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 768K\nread_rnd_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 512K\nmyisam_sort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 8M\nthread_cache_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16\nquery_cache_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\ntmp_table_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\nsql-mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\n\nexplicit_defaults_for_timestamp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#skip-networking")]),s._v("\nmax_connections "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 500\nmax_connect_errors "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 100\nopen_files_limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 65535\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0：区分大小写，1：不区分大小写")]),s._v("\nlower_case_table_names "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认开启事件调度器ON或者是1")]),s._v("\nevent_scheduler"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ON\n\nthread_stack "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 512K\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认是REPEATABLE-READ，改成读已提交")]),s._v("\ntransaction-isolation"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("READ-COMMITTED\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#永久设置手动提交事务")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#autocommit=0")]),s._v("\ntmp_table_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注释掉之后，会关闭binlog日志")]),s._v("\nlog-bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql-bin\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注释掉之后，会关闭binlog日志")]),s._v("\nbinlog_format"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mixed\nserver-id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#自动删除5天前的日志。默认值为0，表示从不删除。")]),s._v("\nexpire_logs_days "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 5\nslow_query_log"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1\nslow-query-log-file"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data/mysql-slow.log\nlong_query_time"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("3\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#log_queries_not_using_indexes=on")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MySQL5.7.11拥有，默认值为keyring_file，InnoDB表空间在初始化InnoDB之前需要此插件来加密，MySQL5.7.12及以后此参数默认为空")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#early-plugin-load = ""')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-trx=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-locks=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-lock-waits=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp-per-index=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp-per-index-reset=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmp-reset=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmpmem=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-cmpmem-reset=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-buffer-page=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-buffer-page-lru=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-buffer-pool-stats=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-metrics=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-default-stopword=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-inserted=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-deleted=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-being-deleted=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-config=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-index-cache=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-ft-index-table=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-tables=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-tablestats=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-indexes=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-columns=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-fields=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-foreign=0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#loose-innodb-sys-foreign-cols=0")]),s._v("\n\ndefault_storage_engine "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" InnoDB\ninnodb_data_home_dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/mysql/data\ninnodb_data_file_path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ibdata1:10M:autoextend\ninnodb_log_group_home_dir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/mysql/data\ninnodb_buffer_pool_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 128M\ninnodb_log_file_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 64M\ninnodb_log_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\ninnodb_flush_log_at_trx_commit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 1\ninnodb_lock_wait_timeout "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 120\ninnodb_max_dirty_pages_pct "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 90\ninnodb_read_io_threads "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3\ninnodb_write_io_threads "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 3\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqldump"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nquick\nmax_allowed_packet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 16M\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nno-auto-rehash\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("myisamchk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkey_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 32M\nsort_buffer_size "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 768K\nread_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2M\nwrite_buffer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 2M\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqlhotcopy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ninteractive-timeout\n")])])]),n("p",[s._v("按ESC后输入:wq退出")]),s._v(" "),n("h1",{attrs:{id:"返回顶部"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#返回顶部","aria-hidden":"true"}},[s._v("#")]),s._v(" "),n("a",{attrs:{href:"#readme"}},[s._v("返回顶部")])])])},[],!1,null,null,null);t.default=e.exports}}]);