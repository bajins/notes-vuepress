# 其他数据库

[[toc]]



## Flag

+ [https://github.com/cmu-db/dbdb.io](https://github.com/cmu-db/dbdb.io)
+ [https://github.com/polardb](https://github.com/polardb)

* sqlite克隆 [https://github.com/cstack/db_tutorial](https://github.com/cstack/db_tutorial)
* [http://www.h2database.com](http://www.h2database.com)
* [http://hsqldb.org](http://hsqldb.org)
* [https://github.com/FirebirdSQL/firebird](https://github.com/FirebirdSQL/firebird)
* [https://github.com/citusdata/citus](https://github.com/citusdata/citus)
* [https://db-engines.com/en/ranking](https://db-engines.com/en/ranking)
* 分布式 [https://github.com/cockroachdb/cockroach](https://github.com/cockroachdb/cockroach)
* [https://github.com/apache/ignite](https://github.com/apache/ignite)
    * [http://blog.nimblex.cn/archives](http://blog.nimblex.cn/archives)
    * [https://www.ignite-service.cn/doc/java](https://www.ignite-service.cn/doc/java)
    * [https://github.com/owen-jia/ignite-yardstick](https://github.com/owen-jia/ignite-yardstick)
* [https://github.com/rethinkdb](https://github.com/rethinkdb)
* [https://github.com/pingcap/tidb](https://github.com/pingcap/tidb)
    * [https://pingcap.com](https://pingcap.com)
* [https://github.com/yugabyte/yugabyte-db](https://github.com/yugabyte/yugabyte-db)
* [https://github.com/prestodb/presto](https://github.com/prestodb/presto)
* [https://github.com/apache/cassandra](https://github.com/apache/cassandra)
* [https://github.com/KvrocksLabs/kvrocks](https://github.com/KvrocksLabs/kvrocks)
* CrateDB [https://github.com/crate/crate](https://github.com/crate/crate)
* [https://github.com/influxdata/influxdb](https://github.com/influxdata/influxdb)
* [https://github.com/VictoriaMetrics/VictoriaMetrics](https://github.com/VictoriaMetrics/VictoriaMetrics)
* 使用Raft算法 [https://github.com/etcd-io/etcd](https://github.com/etcd-io/etcd)
* [https://github.com/etcd-io/bbolt](https://github.com/etcd-io/bbolt)
* [https://github.com/jnwatson/py-lmdb](https://github.com/jnwatson/py-lmdb)
* [https://github.com/basho/riak](https://github.com/basho/riak)
* K/V数据库 [https://github.com/google/leveldb](https://github.com/google/leveldb)
* [https://github.com/couchbase/moss](https://github.com/couchbase/moss)
* [https://github.com/memcached/memcached](https://github.com/memcached/memcached)
* [https://github.com/sirixdb](https://github.com/sirixdb)
* [https://github.com/scylladb/scylla](https://github.com/scylladb/scylla)
* [https://github.com/erthink/libmdbx](https://github.com/erthink/libmdbx)
* [https://github.com/EQ-Alpha/KeyDB](https://github.com/EQ-Alpha/KeyDB)
* [https://github.com/apache/incubator-pegasus](https://github.com/apache/incubator-pegasus)
* [https://github.com/FoundationDB/fdb-record-layer](https://github.com/FoundationDB/fdb-record-layer)
* [https://github.com/flower-corp/rosedb](https://github.com/flower-corp/rosedb)
* [https://github.com/hivedb/hive](https://github.com/hivedb/hive)
* 面向列的数据库 [https://github.com/ClickHouse/ClickHouse](https://github.com/ClickHouse/ClickHouse)
* Go 嵌入式 (S)QL 数据库 [https://gitlab.com/cznic/ql](https://gitlab.com/cznic/ql)
* [https://github.com/oceanbase/oceanbase](https://github.com/oceanbase/oceanbase)
* [https://github.com/roseduan/rosedb](https://github.com/roseduan/rosedb)
* 时间序列数据库 [https://github.com/OpenTSDB/opentsdb](https://github.com/OpenTSDB/opentsdb)
* [https://github.com/timescale/timescaledb](https://github.com/timescale/timescaledb)
* [https://github.com/apache/hbase](https://github.com/apache/hbase)
* [https://github.com/baidu/BaikalDB](https://github.com/baidu/BaikalDB)
* [https://gitee.com/mirrors/EdgeFS](https://gitee.com/mirrors/EdgeFS)
* [https://github.com/Tencent/paxosstore](https://github.com/Tencent/paxosstore)
* [https://github.com/taosdata/TDengine](https://github.com/taosdata/TDengine)
* [https://github.com/infinispan/infinispan](https://github.com/infinispan/infinispan)
* 内存关系数据库 [https://github.com/VoltDB/voltdb](https://github.com/VoltDB/voltdb)
* [https://github.com/memsql](https://github.com/memsql)
    * [https://www.singlestore.com](https://www.singlestore.com)
* [https://github.com/cmu-db/noisepage](https://github.com/cmu-db/noisepage)
* 多模型数据库 [https://github.com/arangodb/arangodb](https://github.com/arangodb/arangodb)
* [https://github.com/apache/couchdb](https://github.com/apache/couchdb)
* 不可变数据库 [https://github.com/codenotary/immudb](https://github.com/codenotary/immudb)



- 物联网时间序列数据库 [https://github.com/apache/iotdb](https://github.com/apache/iotdb)
- [https://github.com/griddb/griddb](https://github.com/griddb/griddb)
- 移动数据库 [https://github.com/realm/realm-core](https://github.com/realm/realm-core)
- 数据流 [https://github.com/mit-pdos/noria](https://github.com/mit-pdos/noria)
- 矢量数据库 [https://github.com/milvus-io/milvus](https://github.com/milvus-io/milvus)
- [https://github.com/topics/spark](https://github.com/topics/spark)
    - [https://github.com/apache/spark](https://github.com/apache/spark)
    - [https://github.com/spark-jobserver](https://github.com/spark-jobserver)
    - [https://github.com/JerryLead/SparkInternals](https://github.com/JerryLead/SparkInternals)
    - [https://github.com/lw-lin/CoolplaySpark](https://github.com/lw-lin/CoolplaySpark)



**[图数据库](https://zh.wikipedia.org/wiki/%E5%9B%BE%E6%95%B0%E6%8D%AE%E5%BA%93)**

* 分布式图形数据库 [https://github.com/JanusGraph](https://github.com/JanusGraph)
* [https://github.com/JanusGraph/janusgraph](https://github.com/JanusGraph/janusgraph)
* 图数据库 [https://github.com/neo4j/neo4j](https://github.com/neo4j/neo4j)
* 图形数据库 [https://github.com/vesoft-inc/nebula](https://github.com/vesoft-inc/nebula)




## ORACLE

* [Oracle with as + /*+ materialize*/ 优化](https://blog.csdn.net/qq_34745941/article/details/106897099)

> 空字符串''同等NULL，字符串与数字类型会自动转换


**系统表**

- `USER_TABLES` 当前用户拥有的表：`TABLE_NAME`,`TABLESPACE_NAME`,`LAST_ANALYZED`
- `DBA_TABLES` 包括系统表：多了`OWER`列
- `ALL_TABLES` 所有用户的表：多了`OWER`列
- `ALL_OBJECTS` 当前用户有访问权限的所有对象：`OWER`,`OBJECT_NAME`,`SUBOBJECT_NAME`,`OBJECT_ID`,`CREATED`,`LAST_DDL_TIME`,`TIMESTAMP`,`STATUS`
- `USER_TAB_COLUMNS` 当前用户拥有的表字段
- `ALL_TAB_COLUMNS`
- `DBA_TAB_COLUMNS`
- `USER_TAB_COMMENTS` 当前用户拥有的表注释 ：`TABLE_NAME`,`TABLE_TYPE`,`COMMENTS`
- `DBA_TAB_COMMENTS` ：多了`OWER`列
- `ALL_TAB_COMMENTS` ：多了`OWER`列
- `USER_COL_COMMENTS` 当前用户拥有的表字段注释 ： `TABLE_NAME`,`COLUMN_NAME`,`COMMENTS`
- `DBA_COL_COMMENTS` ：多了`OWER`列
- `ALL_COL_COMMENTS` ：多了`OWER`列

> `SELECT * FROM USER_TAB_COMMENTS WHERE COMMENTS LIKE '%摘要%'`


**分组获取最新一条数据（查询各组最新的一条记录）**

- over partition by 分析函数（开窗函数）

```sql
SELECT * FROM (
    SELECT ROW_NUMBER() OVER(PARTITION BY 分组字段名 ORDER BY 排序字段名 DESC) rn,t.* FROM test1 t
    ) WHERE rn = 1;

SELECT * FROM (
    select eb_vipcode,eb_time,MAX(eb_time) over(partition by eb_vipcode) as "atime" from eb_daskexpdateinfo
    ) x where eb_time = "atime";

SELECT * FROM (
    select ID_,COMPANY_NAME,USAGE_RATE,CREATE_TIME
    ,MAX(CREATE_TIME) over(partition by COMPANY_NAME) as "atime" from SPEC_RATE_ORIGIN
    ) x where CREATE_TIME = "atime";
```

- group by

```sql
SELECT eb_vipcode,MAX(eb_time) AS "atime" FROM eb_daskexpdateinfo group by eb_vipcode
```

- inner join

```sql
SELECT A.* FROM SPEC_RATE_ORIGIN A INNER JOIN (
    SELECT COMPANY_NAME,MAX(CREATE_TIME) AS "atime" FROM SPEC_RATE_ORIGIN group by COMPANY_NAME
    ) B ON A.COMPANY_NAME = B.COMPANY_NAME AND A.CREATE_TIME = B."atime";
```


**一次执行多条SQL**

```sql
INSERT ALL
 INTO a表(字段) VALUES(各个值1)
 INTO a表(字段) VALUES(其它值2)
 INTO a表(字段) VALUES(其它值3)
SELECT 1 FROM DUAL;
```

- 使用`begin…end;`

* [如何在Oracle中一次执行多条sql语句](https://www.cnblogs.com/teamleader/archive/2007/05/31/765943.html)

```sql
begin
insert into table_name (列名,列名) values (express,express);
insert into table_name (列名,列名) values (express,express);
insert into table_name (列名,列名) values (express,express);
insert into table_name (列名,列名) values (express,express);
end;
```



**插入或更新 upsert**

* [SQL语句 存在就更新不存在就插入](https://www.jianshu.com/p/602ba0b8395b)
* [merge into 的用法](https://blog.csdn.net/weixin_40374341/article/details/109239544)


```sql
MERGE INTO table_name alias1   
USING (table|view|sub_query) alias2  
ON (join condition)   
WHEN MATCHED THEN   
    UPDATE table_name SET col1 = col_val1
WHEN NOT MATCHED THEN   
    INSERT (column_list) VALUES (column_values);
```


**修改字段**

* [Oracle两种临时表的创建及使用方法](https://www.cnblogs.com/beloved-bq/p/12561512.html)

```sql
-- 创建会话级临时表来存储原数据，并删除表数据
CREATE GLOBAL TEMPORARY TABLE TEST_BAK AS (SELECT * FROM TEST);

-- 查看临时表数据
SELECT * FROM TEST_BAK;

-- 清空数据 delete是dml操作；truncate是ddl操作，ddl隐式提交不能回滚，会回收表空间
DELETE FROM TEST;
-- 将目标字段数据清空
--UPDATE TEST SET MEASURED = NULL;

-- 修改表字段
ALTER TABLE TEST MODIFY MEASURED NUMBER(18,6);

-- 还原表结构
INSERT INTO TEST SELECT * FROM TEST_BAK;

-- 删除临时表
DROP TABLE TEST_BAK;
```


**死锁**

```sql
-- 查询死锁会话
SELECT l.session_id sid, s.serial#, l.locked_mode, l.oracle_username, l.os_user_name
, s.machine, s.terminal, o.object_name, s.logon_time, p.SPID
 FROM v$locked_object l, all_objects o, v$session s,v$process p
 WHERE l.object_id = o.object_id AND l.session_id = s.sid AND s.paddr = p.addr
 ORDER BY sid, s.serial#;

-- 结束
alter system kill session 'sid,serial#';
```

```bash
orakill SID spid
```


**查看所有表结构**

```sql
SELECT t1.Table_Name || chr(13) || t3.comments       AS "表名称及说明",
       --t3.comments                                 AS "表说明",
       t1.COLUMN_ID                                  AS "序号",
       t1.Column_Name                                AS "字段名称",
       t1.DATA_TYPE || '(' || t1.DATA_LENGTH || ')'  AS "数据类型",
       t1.NullAble                                   AS "是否为空",
       t2.Comments                                   AS "字段说明",
       t1.Data_Default                               AS "默认值"
       --t4.created                                  AS "建表时间"
  FROM cols t1
  LEFT JOIN user_col_comments t2 
         ON t1.Table_name = t2.Table_name
        AND t1.Column_Name = t2.Column_Name
  LEFT JOIN user_tab_comments t3 
         ON t1.Table_name = t3.Table_name
  LEFT JOIN user_objects t4 
         ON t1.table_name = t4.OBJECT_NAME
  WHERE NOT EXISTS (SELECT t4.Object_Name
          FROM User_objects t4
         WHERE t4.Object_Type = 'TABLE'
           AND t4.Temporary = 'Y'
           AND t4.Object_Name = t1.Table_Name)
  ORDER BY t1.Table_Name, t1.Column_ID;
```



## Postgre

+ [https://github.com/topics/postgrest](https://github.com/topics/postgrest)
+ [https://github.com/topics/postgresql](https://github.com/topics/postgresql)
+ [https://github.com/dhamaniasad/awesome-postgres](https://github.com/dhamaniasad/awesome-postgres)


* [https://github.com/citusdata](https://github.com/citusdata)
* [https://github.com/postgres/postgres](https://github.com/postgres/postgres)
    * [Postgre系统目录](http://postgres.cn/docs/13/catalogs.html)
* [https://github.com/PostgREST/postgrest](https://github.com/PostgREST/postgrest)
* 客户端 [https://github.com/sosedoff/pgweb](https://github.com/sosedoff/pgweb)
* [https://github.com/prest/prest](https://github.com/prest/prest)
* [https://github.com/alibaba/PolarDB-for-PostgreSQL](https://github.com/alibaba/PolarDB-for-PostgreSQL)
* [https://github.com/greenplum-db/gpdb](https://github.com/greenplum-db/gpdb)

- 文本搜索和分析 [https://github.com/zombodb/zombodb](https://github.com/zombodb/zombodb)

* [Postgresql库常用系统表](https://blog.csdn.net/jsbylibo/article/details/108448400)
* [PostgreSQL upsert(插入更新)教程](https://blog.csdn.net/neweastsun/article/details/112147693)


```sql
-- 插入或更新 upsert
INSERT INTO table_name(column_list) 
VALUES(value_list)
ON CONFLICT target action;
```

**查询Postgres数据库中的所有表信息（表名、备注）**

```sql
SELECT
	relname AS tabname,
	cast( obj_description ( relfilenode, 'pg_class' ) AS VARCHAR ) AS COMMENT
FROM
	pg_class c
WHERE
	relkind = 'r'
	AND relname NOT LIKE 'pg_%'
	AND relname NOT LIKE 'sql_%'
    -- AND relchecks=0 -- 过滤掉分表
ORDER BY
	relname
```


**查询Postgres数据库中的表字段名、类型、注释、注释是否为空**

```sql
SELECT
	a.attname AS NAME,
	col_description ( a.attrelid, a.attnum ) AS COMMENT,
	format_type ( a.atttypid, a.atttypmod ) AS type,
	a.attnotnull AS notnull
FROM
	pg_class AS c,
	pg_attribute AS a
WHERE
	c.relname = '表名'
	AND a.attrelid = c.oid
	AND a.attnum >0
```



## SQLite3

* [SQLite教程（内置日期和时间函数）](https://blog.csdn.net/hexingen/article/details/71577318)
* [SQLite 教程](https://www.twle.cn/l/yufei/sqlite/sqlite-basic-index.html)
* [SQLite 教程](https://www.runoob.com/sqlite/sqlite-tutorial.html)
* [SQLite3 数据类型与亲和类型](https://blog.csdn.net/feiyihexin/article/details/99728504)

- 加密SQLite [https://github.com/sqlcipher](https://github.com/sqlcipher)
- [https://github.com/utelle/wxsqlite3](https://github.com/utelle/wxsqlite3)
- Java实现 [https://sqljet.com](https://sqljet.com)
- 分布式关系数据库 [https://github.com/rqlite/rqlite](https://github.com/rqlite/rqlite)
- [https://github.com/jlongster/absurd-sql](https://github.com/jlongster/absurd-sql)


**连接符**

| 连接符  | 说明       |
|------|----------|
| \-    | 算术减法     |
| \!=  | 关系不等于    |
| %    | 算术模量     |
| &    | 逻辑与      |
| \*   | 算术乘法     |
| /    | 算术除法     |
| \|   | 逻辑或      |
| \|\| | 字符串串联    |
| \+   | 算术加法     |
| <    | 关系小于     |
| <<   | 按位右移     |
| <=   | 关系式小于或等于 |
| <>   | 关系不等于    |
| =    | 关系等于     |
| ==   | 关系等于     |
| >    | 关系大于     |
| >=   | 关系大于或等于  |
| >>   | 按位左移     |
| AND  | 逻辑与      |
| GLOB | 关系文件名匹配  |
| IN   | 逻辑输入     |
| LIKE | 关系字符串匹配  |
| OR   | 逻辑或      |


## Redis

+ [https://github.com/redis](https://github.com/redis)
+ [https://redis.io/documentation](https://redis.io/documentation)


* [https://github.com/huangz1990](https://github.com/huangz1990)
    * [http://redisdoc.com](http://redisdoc.com)
    * [http://doc.redisfans.com](http://doc.redisfans.com)
* [https://github.com/antirez/redis-doc](https://github.com/antirez/redis-doc)
    * [http://www.redis.cn/documentation.html](http://www.redis.cn/documentation.html)
* [https://github.com/guodongxiaren/redis-wiki](https://github.com/guodongxiaren/redis-wiki)
* redis常用特性：[https://github.com/LxyTe/redis](https://github.com/LxyTe/redis)


- JuiceFS是基于Redis和S3构建的分布式POSIX文件系统 [https://github.com/juicedata/juicefs](https://github.com/juicedata/juicefs)


## Memcached




## MongoDB

* 客户端 [https://github.com/Studio3T/robomongo](https://github.com/Studio3T/robomongo)
* 存储引擎模块 [https://github.com/mongodb-partners/mongo-rocks](https://github.com/mongodb-partners/mongo-rocks)
* [https://github.com/erikolson186/zangodb](https://github.com/erikolson186/zangodb)

- [MongoDB 高级查询](https://segmentfault.com/a/1190000018006375)


## 免费数据库

**MySQL**

* [https://remotemysql.com](https://remotemysql.com)
* [https://www.db4free.net](https://www.db4free.net)


**SQLServer**

* [https://www.gearhost.com](https://www.gearhost.com)


**PostgresqlSQL**

* [https://www.elephantsql.com](https://www.elephantsql.com)
* [https://memfiredb.com](https://memfiredb.com)


**Redis**

* [https://redislabs.com/redis-enterprise-deployment](https://redislabs.com/redis-enterprise-deployment)
